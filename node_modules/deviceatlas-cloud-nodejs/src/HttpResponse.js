"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.HttpResponse = void 0;
var HttpResponse = /** @class */ (function () {
    function HttpResponse(body, statusCode) {
        this._body = body;
        this._statusCode = statusCode;
    }
    HttpResponse.prototype.validResponse = function () {
        return (this._statusCode / 100) == 2;
    };
    /**
     * Attempt the request on the next endpoint if
     * the licence is valid and has not exceeded
     * the hits quota (403 status is used for both
     * cases).
     */
    HttpResponse.prototype.shouldRetry = function () {
        return !this.validResponse() &&
            HttpResponse.STATUS_CODE_FORBIDDEN != this._statusCode;
    };
    HttpResponse.prototype.getBodyAsJSON = function () {
        return JSON.parse(this._body);
    };
    Object.defineProperty(HttpResponse.prototype, "body", {
        get: function () {
            return this._body;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(HttpResponse.prototype, "statusCode", {
        get: function () {
            return this._statusCode;
        },
        enumerable: false,
        configurable: true
    });
    HttpResponse.STATUS_CODE_FORBIDDEN = 403;
    return HttpResponse;
}());
exports.HttpResponse = HttpResponse;
